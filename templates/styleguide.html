{% extends "base.html" %}
{% block title %}Stitch Styleguide{% endblock %}

{% from 'stitch/_macros.html' import badge, icon_btn, table, toolbar %}

{% block content %}
<div id="stitch_styleguide">
  <main class="tw-flex-1 tw-px-6 tw-py-4">

    <!-- Header -->
    <header class="tw-flex tw-items-center tw-justify-between tw-mb-4">
      <div>
        <h1 class="tw-text-2xl tw-font-bold tw-text-white">Stitch Styleguide</h1>
        <p class="tw-text-sm tw-text-zinc-400 tw-mt-1">Tokens, components, and app patterns we reuse.</p>
      </div>
      <div class="tw-flex tw-gap-2">
        <a href="{{ url_for('emails.emails_unified_stitch') }}"
          class="tw-inline-flex tw-items-center tw-gap-2 tw-text-primary tw-text-sm tw-font-medium tw-px-2 tw-py-1 hover:tw-bg-primary/10">
          <span class="material-symbols-outlined tw-!text-base">arrow_back</span> Back to Emails
        </a>
        <a href="{{ url_for('accounts.add_email_account') }}"
          class="tw-inline-flex tw-items-center tw-gap-2 tw-font-bold tw-text-zinc-900 tw-bg-primary tw-border tw-border-[#bef264] tw-px-4 tw-py-2 tw-text-sm hover:tw-bg-[#a3d154]">
          <span class="material-symbols-outlined tw-!text-base">add</span> Add Account
        </a>
      </div>
    </header>

    <!-- Local nav -->
    <nav class="tw-flex tw-flex-wrap tw-gap-3 tw-mb-4">
      {% set sections = [
      ('tokens','Tokens'), ('type','Typography'), ('buttons','Buttons'),
      ('links','Links & Hovers'), ('tabs','Tabs'), ('badges','Badges'),
      ('forms','Forms'), ('table','Table'), ('cards','Cards & Toolbars'),
      ('sidebar','Sidebar Active'), ('patterns','Real Patterns')
      ] %}
      {% for id,label in sections %}
      <a href="#{{id}}"
        class="tw-text-sm tw-font-semibold tw-text-zinc-300 tw-px-2 tw-py-1 hover:tw-bg-zinc-800/60">{{label}}</a>
      {% endfor %}
    </nav>

    <!-- Tokens -->
    <section id="tokens" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Tokens</h2>
      <div class="tw-grid tw-grid-cols-2 md:tw-grid-cols-4 tw-gap-3">
        <div class="tw-bg-[#18181b] tw-border tw-border-border tw-p-3">
          <div class="tw-text-xs tw-text-zinc-400">bg</div>
          <div class="tw-h-8"></div>
        </div>
        <div class="tw-bg-[#27272a] tw-border tw-border-border tw-p-3">
          <div class="tw-text-xs tw-text-zinc-400">surface</div>
          <div class="tw-h-8"></div>
        </div>
        <div class="tw-bg-[#18181b] tw-border tw-border-border tw-p-3">
          <div class="tw-text-xs tw-text-zinc-400">border</div>
          <div class="tw-h-8 tw-bg-[rgba(255,255,255,.12)]"></div>
        </div>
        <div class="tw-bg-[#bef264] tw-p-3">
          <div class="tw-text-xs tw-text-zinc-900">primary</div>
          <div class="tw-h-8"></div>
        </div>
      </div>
    </section>

    <!-- Typography -->
    <section id="type" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Typography</h2>
      <div class="tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-4">
        <div class="tw-bg-background tw-border tw-border-border tw-p-4">
          <h1 class="tw-text-2xl tw-font-bold tw-text-white tw-mb-1">Page Title</h1>
          <p class="tw-text-sm tw-text-zinc-400">Secondary line</p>
        </div>
        <div class="tw-bg-background tw-border tw-border-border tw-p-4">
          <h3 class="tw-text-base tw-font-semibold tw-text-zinc-200 tw-mb-1">Section Header</h3>
          <p class="tw-text-sm tw-text-zinc-400">Body text</p>
        </div>
      </div>
    </section>

    <!-- Buttons -->
    <section id="buttons" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Buttons</h2>
      <div class="tw-flex tw-flex-wrap tw-gap-3 tw-bg-background tw-border tw-border-border tw-p-4">
        <button
          class="tw-inline-flex tw-items-center tw-gap-2 tw-font-bold tw-text-zinc-900 tw-bg-primary tw-border tw-border-[#bef264] tw-px-4 tw-py-2 tw-text-sm hover:tw-bg-[#a3d154]">
          <span class="material-symbols-outlined tw-!text-base">add</span> Primary
        </button>
        {{ icon_btn('Edit','edit','primary') }}
        {{ icon_btn('Delete','delete','danger') }}
        {{ icon_btn('More','more_horiz','neutral') }}
      </div>
      <p class="tw-text-xs tw-text-zinc-500 tw-mt-2">No white backgrounds. Lime for primary only. Use icon+text for
        actions.</p>
    </section>

    <!-- Links & hovers -->
    <section id="links" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Links & Hovers</h2>
      <div class="tw-bg-background tw-border tw-border-border tw-p-4 tw-flex tw-gap-3 tw-flex-wrap">
        <a class="tw-text-sm tw-text-zinc-300 tw-px-2 tw-py-1 hover:tw-bg-zinc-800/60">Neutral link</a>
        <a class="tw-text-sm tw-text-primary tw-px-2 tw-py-1 hover:tw-bg-primary/10">Primary link</a>
        <a
          class="tw-text-sm tw-text-zinc-300 tw-inline-flex tw-items-center tw-gap-2 tw-px-2 tw-py-1 hover:tw-bg-zinc-800/60">
          <span class="material-symbols-outlined tw-!text-base">open_in_new</span> With icon
        </a>
      </div>
    </section>

    <!-- Tabs -->
    <section id="tabs" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Tabs (filters)</h2>
      <nav class="tw-flex tw-items-center tw-gap-3 tw-bg-background tw-border tw-border-border tw-p-3">
        <a class="tw-text-sm tw-font-semibold tw-text-zinc-300 tw-px-2 tw-py-1 hover:tw-bg-zinc-800/60">All <span
            class="tw-text-zinc-500 tw-ml-1">412</span></a>
        <a class="tw-text-sm tw-font-semibold tw-text-primary tw-px-2 tw-py-1 tw-border-b-[2px] tw-border-primary">Held
          <span class="tw-text-zinc-500 tw-ml-1">337</span></a>
        <a class="tw-text-sm tw-font-semibold tw-text-zinc-300 tw-px-2 tw-py-1 hover:tw-bg-zinc-800/60">Released <span
            class="tw-text-zinc-500 tw-ml-1">75</span></a>
        <a class="tw-text-sm tw-font-semibold tw-text-zinc-300 tw-px-2 tw-py-1 hover:tw-bg-zinc-800/60">Rejected <span
            class="tw-text-zinc-500 tw-ml-1">0</span></a>
      </nav>
    </section>

    <!-- Badges -->
    <section id="badges" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Badges</h2>
      <div class="tw-bg-background tw-border tw-border-border tw-p-4 tw-flex tw-gap-3 tw-flex-wrap">
        {{ badge('HELD') }} {{ badge('FETCHED') }} {{ badge('RELEASED') }} {{ badge('REJECTED') }} {{ badge('PENDING')
        }} {{ badge('ERROR') }}
      </div>
    </section>

    <!-- Forms -->
    <section id="forms" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Forms</h2>
      <div class="tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-4">
        <div class="tw-bg-background tw-border tw-border-border tw-p-4">
          <label class="tw-text-sm tw-text-zinc-300 tw-font-medium">Input</label>
          <input type="text" placeholder="recipient@example.com"
            class="tw-mt-2 tw-w-full tw-bg-[#1f1f23] tw-text-zinc-200 tw-text-sm tw-border tw-border-border tw-px-3 tw-py-2 focus:tw-outline-none focus:tw-border-[#bef264]" />
          <div class="tw-flex tw-gap-3 tw-mt-3">
            <select
              class="tw-bg-[#1f1f23] tw-text-zinc-200 tw-text-sm tw-border tw-border-border tw-px-3 tw-py-2 focus:tw-outline-none focus:tw-border-[#bef264]">
              <option>Select account…</option>
              <option>Gmail</option>
              <option>Hostinger</option>
            </select>
            <button
              class="tw-inline-flex tw-items-center tw-gap-2 tw-font-bold tw-text-zinc-900 tw-bg-primary tw-border tw-border-[#bef264] tw-px-4 tw-py-2 hover:tw-bg-[#a3d154]">
              <span class="material-symbols-outlined tw-!text-base">send</span> Submit
            </button>
          </div>
        </div>
        <div class="tw-bg-background tw-border tw-border-border tw-p-4">
          <label class="tw-text-sm tw-text-zinc-300 tw-font-medium">Textarea</label>
          <textarea rows="4"
            class="tw-mt-2 tw-w-full tw-bg-[#1f1f23] tw-text-zinc-200 tw-text-sm tw-border tw-border-border tw-px-3 tw-py-2 focus:tw-outline-none focus:tw-border-[#bef264]"
            placeholder="Type your message…"></textarea>
          <div class="tw-flex tw-items-center tw-gap-2 tw-mt-3">
            <input id="chk1" type="checkbox" class="tw-accent-[#bef264]" />
            <label for="chk1" class="tw-text-sm tw-text-zinc-300">Enable auto-save</label>
          </div>
        </div>
      </div>
    </section>

    <!-- Table -->
    <section id="table" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Table</h2>
      {% set headings = ['Time', 'Correspondents', 'Subject', 'Status', 'Actions'] %}
      {% set rows = '
      <tr class="hover:tw-bg-zinc-800/40">
        <td class="tw-px-4 tw-py-3 tw-text-zinc-400">Oct 24, 07:11</td>
        <td class="tw-px-4 tw-py-3">
          <div class="tw-text-zinc-200">from billing@service.com</div>
          <div class="tw-text-zinc-500">to you@example.com</div>
        </td>
        <td class="tw-px-4 tw-py-3 tw-text-zinc-200">Your recent invoice <span class="tw-text-zinc-500">…</span></td>
        <td class="tw-px-4 tw-py-3">{{ badge("HELD") }}</td>
        <td class="tw-px-4 tw-py-3">
          <div class="tw-flex tw-justify-end tw-gap-2">{{ icon_btn("View","visibility","primary","#") }}{{
            icon_btn("Attachments","download","neutral","#") }}{{ icon_btn("Discard","delete","danger","#") }}</div>
        </td>
      </tr>
      ' %}
      {{ table(headings, rows) }}
      <p class="tw-text-xs tw-text-zinc-500 tw-mt-2">Tight rows, subtle dividers, square chips, consistent actions.</p>
    </section>

    <!-- Cards & toolbars -->
    <section id="cards" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Cards & Toolbars</h2>
      <div class="tw-grid tw-grid-cols-1 lg:tw-grid-cols-2 tw-gap-4">
        <div class="tw-bg-background tw-border tw-border-border tw-flex tw-flex-col">
          {{ toolbar('Gmail — Primary', [
          {'label':'Start','icon':'play_arrow','variant':'neutral','#':'#'},
          {'label':'Diagnostics','icon':'bug_report','variant':'primary','#':'#'}
          ]) }}
          <div class="tw-p-4 tw-flex tw-gap-2">
            {{ icon_btn('Test','mail','neutral','#') }}
            {{ icon_btn('Edit','edit','primary','#') }}
            {{ icon_btn('Delete','delete','danger','#') }}
          </div>
        </div>
        <div class="tw-bg-background tw-border tw-border-border">
          {{ toolbar('Toolbar Panel', [
          {'label':'Refresh','icon':'refresh','variant':'neutral','#':'#'},
          {'label':'Add Item','icon':'add','variant':'primary','#':'#'}
          ]) }}
          <div class="tw-p-4 tw-text-sm tw-text-zinc-400">Use for list headers with right‑aligned actions.</div>
        </div>
      </div>
    </section>

    <!-- Sidebar active note -->
    <section id="sidebar" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Sidebar Active</h2>
      <div class="tw-bg-background tw-border tw-border-border tw-p-4 tw-flex tw-items-center tw-gap-3">
        <div class="tw-w-1 tw-h-5 tw-bg-primary"></div>
        <div class="tw-text-primary tw-font-semibold tw-text-sm">Active example (lime text + 10% lime bg + 3px left
          border)</div>
      </div>
      <p class="tw-text-xs tw-text-zinc-500 tw-mt-2">Active endpoint checks live in <code>templates/base.html</code>.
      </p>
    </section>

    <!-- Real patterns -->
    <section id="patterns" class="tw-mb-6">
      <h2 class="tw-text-lg tw-font-bold tw-text-white tw-mb-3">Real Patterns</h2>
      <div class="tw-grid tw-grid-cols-1 lg:tw-grid-cols-2 tw-gap-4">
        <!-- Emails row -->
        <div class="tw-bg-background tw-border tw-border-border tw-p-4">
          <h3 class="tw-text-zinc-200 tw-font-semibold tw-mb-3">Emails row</h3>
          <div class="tw-flex tw-items-start tw-justify-between tw-gap-4 hover:tw-bg-zinc-800/40 tw-p-3">
            <div class="tw-flex-1">
              <div class="tw-text-zinc-400 tw-text-xs tw-mb-1">Oct 24, 07:11</div>
              <div class="tw-text-zinc-200">Automated quarantine flow test <span class="tw-text-zinc-500">…</span></div>
              <div class="tw-text-zinc-500 tw-text-xs">from billing@service.com • to you@example.com</div>
            </div>
            <div class="tw-flex tw-items-center tw-gap-3">
              {{ badge('HELD') }}
              {{ icon_btn('Attachments','download','neutral','#') }}
              {{ icon_btn('Release','check_circle','primary','#') }}
              {{ icon_btn('Discard','delete','danger','#') }}
            </div>
          </div>
        </div>

        <!-- Accounts card -->
        <div class="tw-bg-background tw-border tw-border-border tw-flex tw-flex-col">
          <div class="tw-p-4 tw-border-b tw-border-border tw-flex tw-justify-between tw-items-center">
            <h3 class="tw-text-zinc-200 tw-font-semibold">Email Accounts</h3>
            <a href="{{ url_for('accounts.add_email_account') }}"
              class="tw-inline-flex tw-items-center tw-gap-2 tw-font-bold tw-text-zinc-900 tw-bg-primary tw-border tw-border-[#bef264] tw-px-4 tw-py-2 hover:tw-bg-[#a3d154]">
              <span class="material-symbols-outlined tw-!text-base">add_circle</span> Add Account
            </a>
          </div>
          <div class="tw-p-4 tw-grid tw-grid-cols-1 md:tw-grid-cols-2 tw-gap-3">
            <div class="tw-border tw-border-border tw-p-3">
              <div class="tw-flex tw-items-center tw-justify-between">
                <div>
                  <div class="tw-text-zinc-200 tw-font-semibold">Gmail</div>
                  <div class="tw-text-xs tw-text-zinc-500">ndayjecha@gmail.com</div>
                </div>
                <div class="tw-flex tw-gap-2">
                  {{ icon_btn('Edit','edit','primary','#') }}
                  {{ icon_btn('Delete','delete','danger','#') }}
                </div>
              </div>
              <div class="tw-text-xs tw-text-zinc-500 tw-mt-2">imap.gmail.com:993 • smtp.gmail.com:587</div>
            </div>
            <div class="tw-border tw-border-border tw-p-3">
              <div class="tw-flex tw-items-center tw-justify-between">
                <div>
                  <div class="tw-text-zinc-200 tw-font-semibold">Hostinger</div>
                  <div class="tw-text-xs tw-text-zinc-500">mchtye@oorinbox.com</div>
                </div>
                <div class="tw-flex tw-gap-2">
                  {{ icon_btn('Start','play_arrow','neutral','#') }}
                  {{ icon_btn('Diagnostics','bug_report','primary','#') }}
                </div>
              </div>
              <div class="tw-text-xs tw-text-zinc-500 tw-mt-2">imap.hostinger.com:993 • smtp.hostinger.com:465</div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>
</div>
{% endblock %}
