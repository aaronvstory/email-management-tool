<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard â€” Live Variation 1 (Compact)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
  <style>
    /* Compact variation while keeping your current style */
    :root {
      --color-bg-gradient: linear-gradient(160deg, #141414 0%, #1b1b1b 100%);
      --color-surface: #171717;
      --color-surface-2: #202020;
      --color-border: rgba(255,255,255,0.08);
      --color-border-strong: rgba(255,255,255,0.16);
      --color-text: #ffffff;
      --color-text-dim: #9ca3af;
      --color-accent: #7f1d1d;
      --color-accent-2: #991b1b;
      --color-positive: #10b981;
      --color-warn: #f59e0b;
      --shadow-1: 0 2px 4px rgba(0,0,0,.45), 0 1px 2px rgba(0,0,0,.35);
      --shadow-2: 0 6px 16px rgba(0,0,0,.55), 0 2px 6px rgba(0,0,0,.45);
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --sp-1: 6px;  /* compact spacing scale */
      --sp-2: 10px;
      --sp-3: 14px;
      --sp-4: 18px;
      --sp-5: 22px;
      --transition: 140ms cubic-bezier(.4,.2,.2,1);
      --font-sans: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, sans-serif;
      --font-mono: 'JetBrains Mono','SFMono-Regular',Menlo,Consolas,monospace;
    }

    html, body { height: 100%; }
    body { background: var(--color-bg-gradient); color: var(--color-text); font-family: var(--font-sans); -webkit-font-smoothing: antialiased; }

    .dark-app-shell { display: flex; min-height: 100vh; }

    /* Sidebar */
    .sidebar-modern { width: 248px; background: #0d0d0d; border-right: 1px solid var(--color-border); padding: var(--sp-4) var(--sp-3); display: flex; flex-direction: column; gap: var(--sp-3); }
    .sidebar-modern .brand { font-size: 1.05rem; font-weight: 600; letter-spacing: .4px; display: flex; align-items: center; gap: 8px; }
    .sidebar-modern nav { display: flex; flex-direction: column; gap: 4px; flex: 1; }
    .nav-group-label { margin-top: 10px; font-size: .62rem; text-transform: uppercase; letter-spacing: 1.5px; color: var(--color-text-dim); padding: 0 6px; }
    .nav-item-link { display: flex; align-items: center; gap: 10px; padding: 9px 10px; border-radius: var(--radius-md); font-size: .84rem; font-weight: 500; color: var(--color-text-dim); text-decoration: none; transition: var(--transition); }
    .nav-item-link:hover { color: var(--color-text); background: rgba(127,29,29,.14); }
    .nav-item-link.active { color: #fff; background: rgba(127,29,29,.16); box-shadow: inset 0 0 0 1px rgba(127,29,29,.28); border-left: 3px solid var(--color-accent); }
    .nav-item-link .badge { margin-left: auto; background: var(--color-accent); color: #fff; font-size: .58rem; padding: 3px 6px; border-radius: 999px; }

    /* Main + header */
    .main-modern { flex: 1; display: flex; flex-direction: column; min-width: 0; }
    .command-bar { height: 56px; padding: 0 var(--sp-4); display: flex; align-items: center; gap: var(--sp-3); border-bottom: 1px solid var(--color-border); background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 10; }
    .command-controls { display: flex; align-items: center; gap: var(--sp-3); margin-left: auto; }
    .toolbar-group { display: flex; align-items: center; gap: 8px; }
    .global-search { position: relative; }
    .global-search .search-icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: var(--color-text-dim); pointer-events: none; }
    .global-search input[type="search"] { background: rgba(255,255,255,0.06); border: 1px solid var(--color-border); color: #fff; border-radius: 8px; padding: 7px 12px 7px 34px; min-width: 240px; height: 34px; font-size: .9rem; }
    .global-search input[type="search"]:focus { outline: none; border-color: var(--color-accent-2); box-shadow: 0 0 0 2px rgba(153,27,27,.28); }

    /* Buttons */
    .btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; height: 34px; padding: 0 12px; font-size: .86rem; font-weight: 600; border-radius: 8px; border: 1px solid transparent; color: #fff; text-decoration: none; transition: var(--transition); }
    .btn-ghost { background: rgba(255,255,255,0.06); border-color: var(--color-border); color: var(--color-text-dim); }
    .btn-ghost:hover { background: rgba(255,255,255,0.10); color: #fff; }
    .btn-secondary { background: var(--color-accent); border-color: var(--color-accent); }
    .btn-secondary:hover { background: var(--color-accent-2); }
    .btn-primary { background: #7a271a; border-color: #7a271a; }
    .btn-primary:hover { background: #9a3412; }

    .content-scroll { flex: 1; overflow: auto; padding: 22px 28px; display: flex; flex-direction: column; gap: 18px; }

    /* Page header */
    .page-header { display: flex; align-items: flex-end; justify-content: space-between; gap: 12px; margin-bottom: 6px; }
    .page-header h1 { font-size: 1.15rem; margin: 0; }
    .page-header .text-muted { color: var(--color-text-dim); font-size: .9rem; }

    /* Account selector */
    .account-selector { background: var(--color-surface); border-radius: var(--radius-md); padding: var(--sp-3); box-shadow: var(--shadow-1); border: 1px solid var(--color-border); }
    .selector-grid { display: grid; grid-template-columns: minmax(220px, 2fr) auto; grid-template-areas: "select actions" "meta meta"; column-gap: var(--sp-3); row-gap: var(--sp-2); align-items: center; }
    .selector-field { grid-area: select; }
    .selector-field label { color: var(--color-text-dim); font-weight: 500; margin-bottom: 4px; display: block; font-size: .82rem; }
    .selector-field select { background: rgba(255,255,255,0.06); border: 1px solid var(--color-border); color: #fff; width: 100%; padding: 8px 10px; border-radius: 8px; font-size: .92rem; }
    .selector-meta { grid-area: meta; display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
    .selector-note { color: var(--color-text-dim); font-size: .85rem; }
    .selector-actions { grid-area: actions; display: flex; align-items: center; justify-content: flex-end; gap: 8px; flex-wrap: wrap; }

    /* Stats */
    .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: var(--sp-3); }
    .stat-card-modern { background: linear-gradient(145deg, #171717 0%, #1c1c1c 60%, #202020 100%); border: 1px solid var(--color-border); border-radius: var(--radius-md); padding: 14px; text-align: center; transition: transform .18s, box-shadow .18s; }
    .stat-card-modern:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); }
    .stat-card-modern .stat-value { font-size: 1.7rem; font-weight: 700; display: block; }
    .stat-card-modern .stat-label { font-size: .72rem; color: var(--color-text-dim); text-transform: uppercase; letter-spacing: .45px; margin-top: 4px; display: block; }
    .stat-card-modern.held .stat-value { color: #f87171; }
    .stat-card-modern.released .stat-value { color: #34d399; }

    /* Panel */
    .recent-emails-panel { background: linear-gradient(145deg, #171717 0%, #1c1c1c 60%, #202020 100%); border-radius: 14px; padding: var(--sp-4); box-shadow: var(--shadow-2); border: 1px solid var(--color-border); }
    .panel-title { font-size: 1.02rem; font-weight: 600; margin-bottom: var(--sp-3); display: flex; justify-content: space-between; align-items: center; }

    /* Tabs + filters */
    .status-tabs { display: flex; gap: 8px; margin-bottom: var(--sp-3); flex-wrap: wrap; border-bottom: 1px solid rgba(255,255,255,0.08); padding-bottom: 8px; }
    .status-tab { padding: 8px 14px; border-radius: 8px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.08); color: var(--color-text-dim); cursor: pointer; font-weight: 600; font-size: .85rem; display: inline-flex; align-items: center; gap: 8px; }
    .status-tab:hover { background: rgba(255,255,255,0.08); color: #fff; }
    .status-tab.active { background: rgba(127,29,29,0.16); border-color: rgba(127,29,29,0.32); color: #fff; }
    .status-tab .badge { background: rgba(255,255,255,0.12); padding: 2px 8px; border-radius: 12px; font-size: .74rem; font-weight: 700; }

    .filters-bar { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: var(--sp-3); align-items: center; }
    .search-group { flex: 1; min-width: 240px; position: relative; display: flex; align-items: center; }
    .search-group i { position: absolute; left: 10px; color: var(--color-text-dim); pointer-events: none; }
    .search-input { flex: 1; background: rgba(255,255,255,0.06); border: 1px solid var(--color-border); color: #fff; padding: 8px 10px 8px 34px; border-radius: 8px; width: 100%; }

    /* Table */
    .table-wrap { overflow-x: auto; border-radius: 12px; border: 1px solid var(--color-border); }
    .email-table { width: 100%; border-collapse: separate; border-spacing: 0; }
    .email-table thead th { position: sticky; top: 0; background: #151515; color: var(--color-text-dim); font-weight: 700; padding: 9px 10px; text-align: left; border-bottom: 1px solid var(--color-border); font-size: .74rem; text-transform: uppercase; letter-spacing: .45px; }
    .email-table tbody tr { transition: background .16s; border-bottom: 1px solid var(--color-border); }
    .email-table tbody tr:hover { background: rgba(255,255,255,0.04); }
    .email-table tbody td { padding: 10px; color: #fff; vertical-align: middle; line-height: 1.35; font-size: .92rem; }

    /* Small helpers */
    .mb-0 { margin-bottom: 0; }
    .mb-2 { margin-bottom: 8px; }
    .mb-3 { margin-bottom: 12px; }
  </style>
</head>
<body class="dark-enabled">
  <div class="dark-app-shell">
    <aside class="sidebar-modern">
      <div class="brand"><i class="bi bi-envelope-heart"></i><span>Email Manager</span></div>
      <nav>
        <span class="nav-group-label">Core</span>
        <a class="nav-item-link active" href="#"><i class="bi bi-speedometer2"></i> Dashboard</a>
        <a class="nav-item-link" href="#"><i class="bi bi-inbox-fill"></i> Emails <span class="badge">625</span></a>
        <a class="nav-item-link" href="#"><i class="bi bi-pencil-square"></i> Compose</a>
        <span class="nav-group-label">Management</span>
        <a class="nav-item-link" href="#"><i class="bi bi-activity"></i> Watchers</a>
        <a class="nav-item-link" href="#"><i class="bi bi-shield-check"></i> Rules</a>
        <a class="nav-item-link" href="#"><i class="bi bi-envelope-at"></i> Accounts</a>
      </nav>
    </aside>

    <div class="main-modern">
      <header class="command-bar">
        <div class="command-brand">
          <a href="#" class="brand-chip"><i class="bi bi-envelope-heart"></i><span>Mail Ops</span></a>
          <nav class="command-nav">
            <a href="#" class="command-link active"><i class="bi bi-speedometer2"></i> Dashboard</a>
            <a href="#" class="command-link"><i class="bi bi-inbox-fill"></i> Emails</a>
            <a href="#" class="command-link"><i class="bi bi-pencil-square"></i> Compose</a>
          </nav>
        </div>
        <div class="command-controls">
          <div class="global-search" role="search"><i class="bi bi-search search-icon"></i><input type="search" placeholder="Search mail, accounts, rules..."></div>
          <div class="toolbar-group"><a href="#" class="btn btn-secondary"><i class="bi bi-send-plus"></i> Compose</a><a href="#" class="btn btn-ghost"><i class="bi bi-sliders"></i> Settings</a></div>
          <div class="toolbar-group"><span class="btn btn-ghost" style="gap:6px"><i class="bi bi-diagram-2"></i><span style="font-family:var(--font-mono)">SMTP: OK</span></span><span class="btn btn-ghost" style="gap:6px"><i class="bi bi-activity"></i><span style="font-family:var(--font-mono)">Watchers: 2 (P:2)</span></span><span class="btn btn-ghost" style="gap:6px"><i class="bi bi-flag"></i><span style="font-family:var(--font-mono)">Pending: 625</span></span></div>
        </div>
      </header>

      <div class="content-scroll">
        <div id="dashboard-page">
          <div class="page-header">
            <div>
              <h1><i class="bi bi-speedometer2"></i> Dashboard</h1>
              <p class="text-muted mb-0" style="color:var(--color-text-dim)">Track email activity and manage your monitored accounts.</p>
            </div>
            <div class="header-actions"><button class="btn btn-secondary" type="button" onclick="location.reload()"><i class="bi bi-arrow-clockwise"></i> Refresh</button></div>
          </div>

          <div class="account-selector">
            <div class="selector-grid">
              <div class="selector-field">
                <label for="accountSelector">Filter by account</label>
                <select id="accountSelector">
                  <option value="">All accounts</option>
                  <option value="1" selected>Account 1 (test@example.com)</option>
                </select>
              </div>
              <div class="selector-meta"><span class="selector-note">Showing aggregated telemetry across one account.</span></div>
              <div class="selector-actions"><a href="#" class="btn btn-ghost"><i class="bi bi-gear"></i> Manage</a></div>
            </div>
          </div>

          <div class="stats-grid" id="statsGrid">
            <div class="stat-card-modern"><span class="stat-value" id="statTotal">700</span><span class="stat-label">Total</span></div>
            <div class="stat-card-modern held"><span class="stat-value" id="statHeld">625</span><span class="stat-label">Held</span></div>
            <div class="stat-card-modern released"><span class="stat-value" id="statReleased">75</span><span class="stat-label">Released</span></div>
          </div>

          <div class="recent-emails-panel">
            <div class="panel-title"><span><i class="bi bi-envelope"></i> Recent Emails</span><a href="#" class="btn btn-ghost">View All <i class="bi bi-arrow-right"></i></a></div>

            <div class="mb-3">
              <div class="filters-bar">
                <div class="search-group"><i class="bi bi-search"></i><input id="dashboardSearchBox" class="search-input" placeholder="Search subject, sender, or recipient..."></div>
                <div class="toolbar-actions"><label class="form-check" style="display:flex;align-items:center;gap:6px"><input type="checkbox" id="dashboardAutoRefresh"><span style="color:var(--color-text-dim)">Auto-refresh</span></label><button class="btn btn-secondary" type="button"><i class="bi bi-arrow-clockwise"></i> Refresh</button></div>
              </div>
            </div>

            <div class="status-tabs">
              <button class="status-tab active" data-status="ALL"><i class="bi bi-inbox"></i> All <span class="badge" id="dashboard-badge-all">700</span></button>
              <button class="status-tab" data-status="HELD"><i class="bi bi-hand-stop"></i> Held <span class="badge" id="dashboard-badge-held">625</span></button>
              <button class="status-tab" data-status="RELEASED"><i class="bi bi-send-check"></i> Released <span class="badge" id="dashboard-badge-released">75</span></button>
              <button class="status-tab" data-status="REJECTED"><i class="bi bi-x-circle"></i> Rejected <span class="badge" id="dashboard-badge-rejected">0</span></button>
            </div>

            <div class="table-wrap">
              <table class="email-table">
                <thead>
                  <tr>
                    <th style="width: 40px;"><input type="checkbox" id="select-all-emails"></th>
                    <th style="width: 150px;">Time</th>
                    <th style="width: 260px;">Correspondents</th>
                    <th>Subject</th>
                    <th style="width: 120px;">Status</th>
                    <th style="width: 150px;">Actions</th>
                  </tr>
                </thead>
                <tbody id="dashboardEmailTableBody">
                  <!-- rows injected by app -->
                </tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</body>
</html>
